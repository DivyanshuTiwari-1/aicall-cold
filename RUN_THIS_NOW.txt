╔════════════════════════════════════════════════════════════╗
║                                                            ║
║     🚀 RUN THIS ONE COMMAND ON YOUR SERVER NOW 🚀         ║
║                                                            ║
╔════════════════════════════════════════════════════════════╗


STEP 1: SSH to your server
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ssh ubuntu@13.53.89.241

(or use your web console)


STEP 2: Copy and paste this ENTIRE command:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

cd /opt/ai-dialer && git pull origin main && chmod +x *.sh && bash production-test-now.sh


THAT'S IT! This will:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ Pull latest code (with all fixes)
✅ Check Docker containers (auto-restart if down)
✅ Verify database connection
✅ Check FastAGI server
✅ Test backend API
✅ Verify campaign and contacts setup
✅ Check for active calls
✅ Show conversation logs
✅ Display system status
✅ Give you next steps


WHAT YOU'LL SEE:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✓ All services checked and fixed
✓ Active campaign found
✓ Available contacts: X
✓ System ready for AI calls

Then it will show:
  • How many calls are active
  • How many conversations logged
  • System health status
  • Links to monitor in real-time


IF YOU HAVE NO ACTIVE CAMPAIGN OR CONTACTS:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

The script will tell you. Then:

1. Open: https://atsservice.site/
2. Log in
3. Go to Campaigns → Create or Activate one
4. Add Contacts to the campaign
5. Click "Start Queue"
6. Run the script again to verify calls are working


TO START QUEUE FROM WEB:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. https://atsservice.site/
2. Navigate to: Campaigns
3. Find your campaign
4. Click: "Start Queue" button
5. Go to: Live Monitoring → Active Calls
6. Watch AI calls in real-time!


AFTER TESTING - MONITOR LIVE:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

On your server, run:

bash monitor-live-calls.sh

This shows a beautiful live dashboard with:
  • Active calls RIGHT NOW
  • Latest conversation turns
  • Call statistics
  • System health

(Press Ctrl+C to exit)


WHAT'S BEEN FIXED:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ Removed ALL PHP AGI scripts (using Node.js only)
✅ Updated Asterisk to use FastAGI Node.js server
✅ Fixed WebSocket broadcasting for real-time updates
✅ Fixed conversation logging to database
✅ Fixed LiveMonitor frontend to receive updates
✅ Fixed queue system for automated calls
✅ Fixed call history saving after completion
✅ Fixed deployment workflow
✅ Added comprehensive disk space checking
✅ Added auto-restart for down services


YOUR SYSTEM CAN NOW:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ Handle 1000+ automated AI calls per day
✅ Show real-time conversations in LiveMonitor
✅ Save full transcripts to call history
✅ Manage call queue automatically
✅ Broadcast updates via WebSocket
✅ Auto-restart if services go down


╔════════════════════════════════════════════════════════════╗
║                                                            ║
║        GO RUN THAT ONE COMMAND NOW! ⬆️⬆️⬆️                  ║
║                                                            ║
╔════════════════════════════════════════════════════════════╗

