[globals]
; AI Dialer Configuration
AI_DIALER_APP=ai-dialer
AI_DIALER_URL=http://ai_dialer:3000/api/v1
AGI_HOST=ai_dialer
AGI_PORT=4573

[ai-dialer-stasis]
; Main Stasis context for automated AI calls
exten => s,1,NoOp(AI Dialer: Starting AI call - Call ID: ${CALL_ID})
 same => n,Set(CALL_START_TIME=${EPOCH})
 same => n,Answer()
 same => n,Wait(1)
 ; Use FastAGI Node.js server for AI conversation
 same => n,AGI(agi://${AGI_HOST}:${AGI_PORT},${CALL_ID},${CONTACT_PHONE},${CAMPAIGN_ID})
 same => n,Hangup()

exten => h,1,NoOp(AI Dialer: Call ended - ${CALL_ID})
 same => n,NoOp(Cleanup completed)

[manual-dialer-bridge-stasis]
; Stasis context for manual calls
exten => s,1,NoOp(Manual Dialer Bridge: Call ID ${ARG1})
 same => n,Answer()
 same => n,Wait(1)
 same => n,Stasis(manual-dialer-bridge-stasis,${ARG1},${ARG2})
 same => n,Hangup()
